{"uid":"71d08688e472946","name":"should invite by user menu","fullName":"should invite by user menu","historyId":"4be1ef711e8a946fcf220a21eaf5908a","time":{"start":1669099232871,"stop":1669099245565,"duration":12694},"status":"failed","statusMessage":"`cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task","statusTrace":"CypressError: `cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task\n    at <unknown> (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:145775:78)\n    at tryCatcher (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:11318:23)\n    at Promise._settlePromiseFromHandler (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9253:31)\n    at Promise._settlePromise (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9310:18)\n    at Promise._settlePromise0 (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9355:10)\n    at Promise._settlePromises (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9431:18)\n    at _drainQueueStep (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6025:12)\n    at _drainQueue (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6018:9)\n    at ../../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6034:5)\n    at Async.drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:5904:14)\nFrom Your Spec Code:\n    at recurse.timeout (webpack:///./cypress/e2e/1-testingAdminUI/1-invite.cy.js:41:21)\n    at Context.cypressRecurse (webpack:///./node_modules/cypress-recurse/src/index.js:123:0)\n\nFrom Node.js Internals:\n  TypeError: Cannot read properties of undefined (reading 'toString')\n      at Object.getLastEmail (/home/runner/work/op3-cypress-tests/op3-cypress-tests/cypress/plugins/email-account.js:45:63)\n  at runMicrotasks (<anonymous>)\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"time":{},"status":"passed","steps":[{"name":"task getUserEmail","time":{"start":1669099232851,"stop":1669099232860,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log sgog7awagngo75v3@ethereal.email","time":{"start":1669099232866,"stop":1669099232867,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log 3hzhBZx95GhJjeybBz","time":{"start":1669099232868,"stop":1669099232869,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **sgog7awagngo75v3@ethereal.email** to be a string","time":{"start":1669099232869,"stop":1669099232869,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"sgog7awagngo75v3@ethereal.email"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"status":"failed","statusMessage":"`cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task","statusTrace":"CypressError: `cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task\n    at <unknown> (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:145775:78)\n    at tryCatcher (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:11318:23)\n    at Promise._settlePromiseFromHandler (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9253:31)\n    at Promise._settlePromise (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9310:18)\n    at Promise._settlePromise0 (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9355:10)\n    at Promise._settlePromises (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9431:18)\n    at _drainQueueStep (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6025:12)\n    at _drainQueue (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6018:9)\n    at ../../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6034:5)\n    at Async.drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:5904:14)\nFrom Your Spec Code:\n    at recurse.timeout (webpack:///./cypress/e2e/1-testingAdminUI/1-invite.cy.js:41:21)\n    at Context.cypressRecurse (webpack:///./node_modules/cypress-recurse/src/index.js:123:0)\n\nFrom Node.js Internals:\n  TypeError: Cannot read properties of undefined (reading 'toString')\n      at Object.getLastEmail (/home/runner/work/op3-cypress-tests/op3-cypress-tests/cypress/plugins/email-account.js:45:63)\n  at runMicrotasks (<anonymous>)\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)","steps":[{"name":"assert username was set: expected **prog@itdelta.agency** to be a string","time":{"start":1669099232879,"stop":1669099236616,"duration":3737},"status":"passed","steps":[{"name":"visit https://qa-testing.learn.company-policy.com/login","time":{"start":1669099232887,"stop":1669099233492,"duration":605},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //input[@id='email']","time":{"start":1669099233493,"stop":1669099233496,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"type prog@itdelta.agency","time":{"start":1669099233497,"stop":1669099233956,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //input[@id='password']","time":{"start":1669099233956,"stop":1669099233958,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@type='submit']","time":{"start":1669099234251,"stop":1669099234253,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099234253,"stop":1669099234340,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"form sub --submitting form--","time":{"start":1669099234340,"stop":1669099234340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"page load --waiting for new page to load--","time":{"start":1669099234340,"stop":1669099234340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/learning/courses","time":{"start":1669099234340,"stop":1669099236508,"duration":2168},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //h2[text()='Learning center']","time":{"start":1669099236508,"stop":1669099236508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099236508,"stop":1669099236615,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":11,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert username was set: expected **prog@itdelta.agency** not to be empty","time":{"start":1669099236615,"stop":1669099236615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"prog@itdelta.agency"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert password was set: expected **dJa3TfpfwUQv** to be a string","time":{"start":1669099236615,"stop":1669099236615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"dJa3TfpfwUQv"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert password was set: expected **dJa3TfpfwUQv** not to be empty","time":{"start":1669099236616,"stop":1669099236616,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"dJa3TfpfwUQv"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"xpath (//button[@class='max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500'])[1]","time":{"start":1669099236616,"stop":1669099236620,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099236620,"stop":1669099236753,"duration":133},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //a[@href='https://qa-testing.learn.company-policy.com/admin']","time":{"start":1669099236753,"stop":1669099236756,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099236756,"stop":1669099236932,"duration":176},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /admin","time":{"start":1669099236932,"stop":1669099236932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"wait 1500","time":{"start":1669099236932,"stop":1669099238441,"duration":1509},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /admin/lc/courses","time":{"start":1669099238441,"stop":1669099238441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/admin/lc/courses","time":{"start":1669099238441,"stop":1669099238441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET 200 /admin/lc/courses?page=1&perpage=10&sortby=&sortdir=&","time":{"start":1669099238441,"stop":1669099238441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@class='max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 z-50']","time":{"start":1669099238441,"stop":1669099238446,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099238446,"stop":1669099238608,"duration":162},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //a[@href='https://qa-testing.learn.company-policy.com/invite-user']","time":{"start":1669099238608,"stop":1669099238614,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099238614,"stop":1669099238795,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /invite-user","time":{"start":1669099238795,"stop":1669099238795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/invite-user","time":{"start":1669099238795,"stop":1669099239628,"duration":833},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //*[@id='email']","time":{"start":1669099239628,"stop":1669099239628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"type sgog7awagngo75v3@ethereal.email","time":{"start":1669099239628,"stop":1669099240274,"duration":646},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[text()='Select groups']","time":{"start":1669099240274,"stop":1669099240277,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099240277,"stop":1669099240465,"duration":188},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET https://qa-testing.learn.company-policy.com/api/teams?","time":{"start":1669099240465,"stop":1669099240465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //li[text()='Heads']","time":{"start":1669099240465,"stop":1669099240467,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099240467,"stop":1669099240685,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[text()='Save']","time":{"start":1669099240685,"stop":1669099240687,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099240687,"stop":1669099240875,"duration":188},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /api/teams?selected=[1]","time":{"start":1669099240875,"stop":1669099240875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **[ <button.flex-shrink-0.ml-0.5.h-4.w-4.rounded-full.inline-flex.items-center.justify-center.text-gray-400.hover:bg-gray-200.hover:text-gray-500.focus:outline-none.focus:bg-gray-500.focus:text-white>, 1 more... ]** to be **visible**","time":{"start":1669099240875,"stop":1669099240896,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //li//button","time":{"start":1669099240896,"stop":1669099240896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@type='submit']","time":{"start":1669099240896,"stop":1669099240898,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669099240898,"stop":1669099241152,"duration":254},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"POST /invite-user","time":{"start":1669099241152,"stop":1669099241152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **<p.text-sm.font-medium.text-gray-900>** to be **visible**","time":{"start":1669099241152,"stop":1669099241855,"duration":703},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /invite-user","time":{"start":1669099241854,"stop":1669099241855,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //p[text()='Success!']","time":{"start":1669099241855,"stop":1669099241855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log remaining attempts **20**","time":{"start":1669099241862,"stop":1669099241873,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log time remaining **60000**","time":{"start":1669099241873,"stop":1669099241882,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"task getLastEmail","time":{"start":1669099241882,"stop":1669099245563,"duration":3681},"status":"failed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"ac0e2583ac64d37d","name":"cypress/e2e/1-testingAdminUI/1-invite.cy.js:2022-11-22T06:40:45.375Z","source":"ac0e2583ac64d37d.png","type":"image/png","size":122073},{"uid":"f6b4c39b7db0e6f9","name":"video recording","source":"f6b4c39b7db0e6f9.mp4","type":"video/mp4","size":6114734}],"parameters":[],"stepsCount":51,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"suite","value":"C. Invite user by 2 ways"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"71d08688e472946.json","parameterValues":[]}