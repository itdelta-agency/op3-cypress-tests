{"uid":"475fe158ed64b407","name":"should invite by user menu","fullName":"should invite by user menu","historyId":"4be1ef711e8a946fcf220a21eaf5908a","time":{"start":1669120887475,"stop":1669120897405,"duration":9930},"status":"failed","statusMessage":"`cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task","statusTrace":"CypressError: `cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task\n    at <unknown> (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:145775:78)\n    at tryCatcher (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:11318:23)\n    at Promise._settlePromiseFromHandler (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9253:31)\n    at Promise._settlePromise (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9310:18)\n    at Promise._settlePromise0 (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9355:10)\n    at Promise._settlePromises (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9431:18)\n    at _drainQueueStep (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6025:12)\n    at _drainQueue (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6018:9)\n    at ../../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6034:5)\n    at Async.drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:5904:14)\nFrom Your Spec Code:\n    at recurse.timeout (webpack:///./cypress/e2e/1-testingAdminUI/1-invite.cy.js:41:21)\n    at Context.cypressRecurse (webpack:///./node_modules/cypress-recurse/src/index.js:123:0)\n\nFrom Node.js Internals:\n  TypeError: Cannot read properties of undefined (reading 'toString')\n      at Object.getLastEmail (/home/runner/work/op3-cypress-tests/op3-cypress-tests/cypress/plugins/email-account.js:45:63)\n  at runMicrotasks (<anonymous>)\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"time":{},"status":"passed","steps":[{"name":"task getUserEmail","time":{"start":1669120887458,"stop":1669120887465,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log rgmaot2uqcyr7fm3@ethereal.email","time":{"start":1669120887470,"stop":1669120887471,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log jFGb4BJV3fqVZtPnKn","time":{"start":1669120887471,"stop":1669120887472,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **rgmaot2uqcyr7fm3@ethereal.email** to be a string","time":{"start":1669120887473,"stop":1669120887473,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"rgmaot2uqcyr7fm3@ethereal.email"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"status":"failed","statusMessage":"`cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task","statusTrace":"CypressError: `cy.task('getLastEmail')` failed with the following error:\n\n> Cannot read properties of undefined (reading 'toString')\n\nhttps://on.cypress.io/api/task\n    at <unknown> (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:145775:78)\n    at tryCatcher (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:11318:23)\n    at Promise._settlePromiseFromHandler (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9253:31)\n    at Promise._settlePromise (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9310:18)\n    at Promise._settlePromise0 (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9355:10)\n    at Promise._settlePromises (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:9431:18)\n    at _drainQueueStep (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6025:12)\n    at _drainQueue (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6018:9)\n    at ../../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:6034:5)\n    at Async.drainQueues (https://qa-testing.learn.company-policy.com/__cypress/runner/cypress_runner.js:5904:14)\nFrom Your Spec Code:\n    at recurse.timeout (webpack:///./cypress/e2e/1-testingAdminUI/1-invite.cy.js:41:21)\n    at Context.cypressRecurse (webpack:///./node_modules/cypress-recurse/src/index.js:123:0)\n\nFrom Node.js Internals:\n  TypeError: Cannot read properties of undefined (reading 'toString')\n      at Object.getLastEmail (/home/runner/work/op3-cypress-tests/op3-cypress-tests/cypress/plugins/email-account.js:45:63)\n  at runMicrotasks (<anonymous>)\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)","steps":[{"name":"assert username was set: expected **prog@itdelta.agency** to be a string","time":{"start":1669120887481,"stop":1669120890444,"duration":2963},"status":"passed","steps":[{"name":"visit https://qa-testing.learn.company-policy.com/login","time":{"start":1669120887488,"stop":1669120887940,"duration":452},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //input[@id='email']","time":{"start":1669120887940,"stop":1669120887943,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"type prog@itdelta.agency","time":{"start":1669120887943,"stop":1669120888340,"duration":397},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //input[@id='password']","time":{"start":1669120888341,"stop":1669120888342,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@type='submit']","time":{"start":1669120888621,"stop":1669120888623,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120888623,"stop":1669120888706,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"form sub --submitting form--","time":{"start":1669120888706,"stop":1669120888706,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"page load --waiting for new page to load--","time":{"start":1669120888706,"stop":1669120888706,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/learning/courses","time":{"start":1669120888706,"stop":1669120890340,"duration":1634},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //h2[text()='Learning center']","time":{"start":1669120890339,"stop":1669120890339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120890340,"stop":1669120890443,"duration":103},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":11,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert username was set: expected **prog@itdelta.agency** not to be empty","time":{"start":1669120890443,"stop":1669120890443,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"prog@itdelta.agency"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert password was set: expected **dJa3TfpfwUQv** to be a string","time":{"start":1669120890444,"stop":1669120890444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"dJa3TfpfwUQv"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"assert password was set: expected **dJa3TfpfwUQv** not to be empty","time":{"start":1669120890444,"stop":1669120890444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"dJa3TfpfwUQv"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"xpath (//button[@class='max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500'])[1]","time":{"start":1669120890444,"stop":1669120890448,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120890448,"stop":1669120890578,"duration":130},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //a[@href='https://qa-testing.learn.company-policy.com/admin']","time":{"start":1669120890578,"stop":1669120890581,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120890581,"stop":1669120890733,"duration":152},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /admin","time":{"start":1669120890733,"stop":1669120890733,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"wait 1500","time":{"start":1669120890734,"stop":1669120892237,"duration":1503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /admin/lc/courses","time":{"start":1669120892237,"stop":1669120892237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/admin/lc/courses","time":{"start":1669120892237,"stop":1669120892237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET 200 /admin/lc/courses?page=1&perpage=10&sortby=&sortdir=&","time":{"start":1669120892237,"stop":1669120892237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@class='max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 z-50']","time":{"start":1669120892237,"stop":1669120892240,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120892240,"stop":1669120892391,"duration":151},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //a[@href='https://qa-testing.learn.company-policy.com/invite-user']","time":{"start":1669120892391,"stop":1669120892396,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120892396,"stop":1669120892559,"duration":163},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /invite-user","time":{"start":1669120892559,"stop":1669120892559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"new url https://qa-testing.learn.company-policy.com/invite-user","time":{"start":1669120892559,"stop":1669120893154,"duration":595},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //*[@id='email']","time":{"start":1669120893154,"stop":1669120893154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"type rgmaot2uqcyr7fm3@ethereal.email","time":{"start":1669120893154,"stop":1669120893798,"duration":644},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[text()='Select groups']","time":{"start":1669120893798,"stop":1669120893801,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120893802,"stop":1669120893953,"duration":151},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET https://qa-testing.learn.company-policy.com/api/teams?","time":{"start":1669120893953,"stop":1669120893953,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //li[text()='Heads']","time":{"start":1669120893953,"stop":1669120893959,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120893959,"stop":1669120894137,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[text()='Save']","time":{"start":1669120894137,"stop":1669120894151,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120894151,"stop":1669120894341,"duration":190},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /api/teams?selected=[1]","time":{"start":1669120894340,"stop":1669120894340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **[ <button.flex-shrink-0.ml-0.5.h-4.w-4.rounded-full.inline-flex.items-center.justify-center.text-gray-400.hover:bg-gray-200.hover:text-gray-500.focus:outline-none.focus:bg-gray-500.focus:text-white>, 1 more... ]** to be **visible**","time":{"start":1669120894341,"stop":1669120894357,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //li//button","time":{"start":1669120894357,"stop":1669120894357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //button[@type='submit']","time":{"start":1669120894357,"stop":1669120894359,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"click","time":{"start":1669120894359,"stop":1669120894651,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"POST /invite-user","time":{"start":1669120894651,"stop":1669120894651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assert expected **<p.text-sm.font-medium.text-gray-900>** to be **visible**","time":{"start":1669120894651,"stop":1669120895056,"duration":405},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"GET /invite-user","time":{"start":1669120895055,"stop":1669120895055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"xpath //p[text()='Success!']","time":{"start":1669120895055,"stop":1669120895055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log remaining attempts **20**","time":{"start":1669120895057,"stop":1669120895067,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"log time remaining **60000**","time":{"start":1669120895067,"stop":1669120895070,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"task getLastEmail","time":{"start":1669120895070,"stop":1669120897404,"duration":2334},"status":"failed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"68c4f12135cca38f","name":"cypress/e2e/1-testingAdminUI/1-invite.cy.js:2022-11-22T12:41:37.268Z","source":"68c4f12135cca38f.png","type":"image/png","size":129658},{"uid":"38284325c97bda2b","name":"video recording","source":"38284325c97bda2b.mp4","type":"video/mp4","size":5692212}],"parameters":[],"stepsCount":51,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"suite","value":"C. Invite user by 2 ways"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"475fe158ed64b407.json","parameterValues":[]}